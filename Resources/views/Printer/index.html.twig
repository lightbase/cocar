{% extends 'CocarBundle::layout.html.twig' %}

{% block main -%}
    <h2 class="general-title">{{ "Impressoras Cadastradas"|trans }}</h2>
    <center>
        <ul>
            <li>
                <form action="{{ path('printer_index') }}" method="get" {{ form_enctype(form) }}>
                    {{ form_errors(form) }}
                    {{ form_widget(form.startDate) }}
                    {{ form_widget(form.endDate) }}
                    <button type="submit">{{ "Enviar"|trans }}</button>
                    <button type="submit" formaction="{{ path('printer_csv') }}">{{ "Gerar CSV"|trans }}</button>
                    <button type="submit" formaction="{{ path('printer_index_detalhado') }}">{{ "Relatório detalhado"|trans }}</button>
                </form>
            </li>
        </ul>
    </center>
    <br>
    <div class="row-fluid">
        <div class="span12 flat_box">
            <div class="padding_20">
                <p>{{ "Relatório gerado em"|trans }} {{ data|date }}</p>
                <br>
                <p>
                    <ul>
                        <li><b>{{ "Data Inicial"|trans }}</b>: {{ start|date("d/m/Y") }} {{ "00:00" }}</li>
                        <li><b>{{ "Data Final"|trans }}</b>: {{ end|date("d/m/Y") }} {{ "23:59" }}</li>
                </ul>
                </p>
            </div>
        </div>
    </div>
    <table class="records_list">
        <thead>
            <tr>
                <th>Id</th>
                <th>Nome</th>
                <th>Host</th>
                <th>Serie</th>
                <th>Local</th>
<<<<<<< HEAD
=======
                <th>Contador Inicial</th>
                <th>Contador Final</th>
>>>>>>> d4656e0e44b6f43d88cea85fd3ca4cd16f0e76fd
                <th>Impressões</th>
                <th>Ações</th>
            </tr>
        </thead>
        <tbody>
        {% for entity in printer %}
            <tr>
                <td><a href="{{ path('printer_show', { 'id': entity.id }) }}">{{ entity.id }}</a></td>
                <td>{{ entity.name }}</td>
                <td>{{ entity.host }}</td>
                <td>{{ entity.serie }}</td>
                <td>{{ entity.local }}</td>
                <td>{{ entity.printsStart }}</td>
                <td>{{ entity.printsEnd }}</td>
                <td>{{ (entity.printsEnd - entity.printsStart) }}</td>
                <td>
                <ul>
                    <li>
                        <a href="{{ path('printer_show', { 'id': entity.id }) }}">Visualizar</a>
                    </li>
                    <li>
                        <a href="{{ path('printer_edit', { 'id': entity.id }) }}">Editar</a>
                    </li>
                </ul>
                </td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
    <ul class="button">
        <li>
            <a href="{{ path('printer_new') }}">
                Cadastrar uma nova impressora
            </a>
        </li>
    </ul>
    {% endblock %}
